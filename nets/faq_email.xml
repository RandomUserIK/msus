<?xml version="1.0" encoding="UTF-8"?>
<document xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:noNamespaceSchemaLocation="https://modeler.netgrif.com/petriflow_schema.xsd">
    <id>faq_email_data</id>
    <initials>FQE</initials>
    <title>FAQ Email Data</title>
    <icon>email</icon>
    <defaultRole>true</defaultRole>
    <transitionRole>false</transitionRole>

    <!-- ROLES -->
    <role>
        <id>admin</id>
        <title>Admin</title>
    </role>
    <role>
        <id>system</id>
        <title>Systém</title>
    </role>
    <role>
        <id>referent</id>
        <title>Referent</title>
    </role>
    <role>
        <id>kontrolor</id>
        <title>Kontrolór</title>
    </role>
    <role>
        <id>client</id>
        <title>Klient</title>
    </role>

    <!-- DATA -->
    <data type="text">
        <id>faq_parent_mongo_id</id>
        <title/>
    </data>
    <data type="text">
        <id>faq_parent_status</id>
        <title>Stav úlohy</title>
        <init>Nová úloha</init>
    </data>
    <data type="text">
        <id>client_email</id>
        <title>Emailová adresa klienta</title>
        <valid>email</valid>
    </data>
    <data type="text">
        <id>subject</id>
        <title>Predmet emailu</title>
    </data>
    <data type="text">
        <id>content</id>
        <title>Obsah emailu</title>
        <values>area</values>
    </data>
    <data type="file">
        <id>attachments</id>
        <title>Prílohy</title>
    </data>
    <data type="text">
        <id>sent_date</id>
        <title>Dátum odoslania</title>
    </data>
    <data type="text">
        <id>received_date</id>
        <title>Dátum prijatia</title>
    </data>


    <!-- TRANSITIONS -->
    <transition>
        <id>2</id>
        <x>300</x>
        <y>100</y>
        <layout>
            <offset>0</offset>
        </layout>
        <label>Vytvoriť</label>
        <roleRef>
            <id>admin</id>
            <logic>
                <perform>true</perform>
            </logic>
        </roleRef>
        <roleRef>
            <id>system</id>
            <logic>
                <perform>true</perform>
            </logic>
        </roleRef>
        <assignPolicy>auto</assignPolicy>
        <finishPolicy>auto_no_data</finishPolicy>
    </transition>
    <transition>
        <id>5</id>
        <x>540</x>
        <y>100</y>
        <layout>
            <offset>0</offset>
        </layout>
        <label>Detail</label>
        <icon>preview</icon>
        <roleRef>
            <id>admin</id>
            <logic>
                <perform>true</perform>
            </logic>
        </roleRef>
        <dataGroup>
            <id>email</id>
            <dataRef>
                <id>faq_parent_mongo_id</id>
                <logic>
                    <behavior>hidden</behavior>
                    <behavior>optional</behavior>
                </logic>
            </dataRef>
            <dataRef>
                <id>client_email</id>
                <logic>
                    <behavior>visible</behavior>
                    <behavior>optional</behavior>
                </logic>
                <layout>
                    <x>0</x>
                    <y>0</y>
                    <rows>1</rows>
                    <cols>2</cols>
                    <offset>0</offset>
                    <template>material</template>
                    <appearance>outline</appearance>
                </layout>
            </dataRef>
            <dataRef>
                <id>subject</id>
                <logic>
                    <behavior>visible</behavior>
                    <behavior>optional</behavior>
                </logic>
                <layout>
                    <x>2</x>
                    <y>0</y>
                    <rows>1</rows>
                    <cols>2</cols>
                    <offset>0</offset>
                    <template>material</template>
                    <appearance>outline</appearance>
                </layout>
            </dataRef>
            <dataRef>
                <id>content</id>
                <logic>
                    <behavior>visible</behavior>
                    <behavior>optional</behavior>
                </logic>
                <layout>
                    <x>0</x>
                    <y>2</y>
                    <rows>2</rows>
                    <cols>4</cols>
                    <offset>0</offset>
                    <template>material</template>
                    <appearance>outline</appearance>
                </layout>
            </dataRef>
            <dataRef>
                <id>attachments</id>
                <logic>
                    <behavior>visible</behavior>
                    <behavior>optional</behavior>
                </logic>
                <layout>
                    <x>2</x>
                    <y>1</y>
                    <rows>1</rows>
                    <cols>2</cols>
                    <offset>0</offset>
                    <template>material</template>
                </layout>
            </dataRef>
            <dataRef>
                <id>sent_date</id>
                <logic>
                    <behavior>visible</behavior>
                    <behavior>optional</behavior>
                </logic>
                <layout>
                    <x>0</x>
                    <y>1</y>
                    <rows>1</rows>
                    <cols>2</cols>
                    <offset>0</offset>
                    <template>material</template>
                    <appearance>outline</appearance>
                </layout>
            </dataRef>
            <dataRef>
                <id>received_date</id>
                <logic>
                    <behavior>visible</behavior>
                    <behavior>optional</behavior>
                </logic>
                <layout>
                    <x>0</x>
                    <y>2</y>
                    <rows>1</rows>
                    <cols>2</cols>
                    <offset>0</offset>
                    <template>material</template>
                    <appearance>outline</appearance>
                </layout>
            </dataRef>
        </dataGroup>
    </transition>
    <transition>
        <id>6</id>
        <x>420</x>
        <y>220</y>
        <layout>
            <offset>0</offset>
        </layout>
        <label>Status tracker</label>
        <icon>info</icon>
        <roleRef>
            <id>admin</id>
            <logic>
                <perform>true</perform>
            </logic>
        </roleRef>
        <roleRef>
            <id>client</id>
            <logic>
                <view>true</view>
            </logic>
        </roleRef>
        <dataGroup>
            <id>email</id>
            <dataRef>
                <id>faq_parent_status</id>
                <logic>
                    <behavior>visible</behavior>
                    <behavior>optional</behavior>
                </logic>
            </dataRef>
            <dataRef>
                <id>client_email</id>
                <logic>
                    <behavior>visible</behavior>
                    <behavior>optional</behavior>
                </logic>
                <layout>
                    <x>0</x>
                    <y>0</y>
                    <rows>1</rows>
                    <cols>2</cols>
                    <offset>0</offset>
                    <template>material</template>
                    <appearance>outline</appearance>
                </layout>
            </dataRef>
            <dataRef>
                <id>subject</id>
                <logic>
                    <behavior>visible</behavior>
                    <behavior>optional</behavior>
                </logic>
                <layout>
                    <x>2</x>
                    <y>0</y>
                    <rows>1</rows>
                    <cols>2</cols>
                    <offset>0</offset>
                    <template>material</template>
                    <appearance>outline</appearance>
                </layout>
            </dataRef>
            <dataRef>
                <id>sent_date</id>
                <logic>
                    <behavior>visible</behavior>
                    <behavior>optional</behavior>
                </logic>
                <layout>
                    <x>0</x>
                    <y>1</y>
                    <rows>1</rows>
                    <cols>2</cols>
                    <offset>0</offset>
                    <template>material</template>
                    <appearance>outline</appearance>
                </layout>
            </dataRef>
            <dataRef>
                <id>received_date</id>
                <logic>
                    <behavior>visible</behavior>
                    <behavior>optional</behavior>
                </logic>
                <layout>
                    <x>0</x>
                    <y>2</y>
                    <rows>1</rows>
                    <cols>2</cols>
                    <offset>0</offset>
                    <template>material</template>
                    <appearance>outline</appearance>
                </layout>
            </dataRef>
        </dataGroup>
    </transition>

    <!-- PLACES -->
    <place>
        <id>1</id>
        <x>180</x>
        <y>100</y>
        <label>init</label>
        <tokens>1</tokens>
        <static>false</static>
    </place>
    <place>
        <id>4</id>
        <x>420</x>
        <y>100</y>
        <label>Vytvorený</label>
        <tokens>0</tokens>
        <static>false</static>
    </place>

    <!-- ARCS -->
    <arc>
        <id>7</id>
        <type>regular</type>
        <sourceId>1</sourceId>
        <destinationId>2</destinationId>
        <multiplicity>1</multiplicity>
    </arc>
    <arc>
        <id>8</id>
        <type>regular</type>
        <sourceId>2</sourceId>
        <destinationId>4</destinationId>
        <multiplicity>1</multiplicity>
    </arc>
    <arc>
        <id>9</id>
        <type>read</type>
        <sourceId>4</sourceId>
        <destinationId>5</destinationId>
        <multiplicity>1</multiplicity>
    </arc>
    <arc>
        <id>10</id>
        <type>read</type>
        <sourceId>4</sourceId>
        <destinationId>6</destinationId>
        <multiplicity>1</multiplicity>
    </arc>
</document>
